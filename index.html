<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Cheapy Cheapy Hull Cleaning — Final</title>
<meta name="theme-color" content="#0b6e4f" />
<style>
:root{
  --accent:#0b6e4f;
  --card:#ffffff;
  --muted:#64748b;
  --green-hint:#10b981;
  --shadow: rgba(2,6,23,0.08);
  --warn:#b91c1c;
  --wave-1: rgba(255,255,255,0.75);
  --wave-2: rgba(255,255,255,0.5);
  --font:-apple-system,BlinkMacSystemFont,"SF Pro Text","Helvetica Neue",Arial,sans-serif;
  --radius:14px;
}

/* Reset */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  font-family:var(--font);
  background:linear-gradient(180deg,#f8faf9 0%,#eef7f1 100%);
  color:#0f172a;
  -webkit-font-smoothing:antialiased;
  line-height:1.45;
}

/* Header */
.header{
  background:linear-gradient(135deg,var(--accent),#0d8f64);
  color:#fff;
  text-align:center;
  padding:44px 18px 140px; /* tall for waves */
  position:relative;
  overflow:visible;
  border-bottom:3px solid rgba(0,0,0,0.06);
}
.header h1{font-size:2rem;font-weight:700;margin-bottom:6px}
.header p{opacity:.95;margin-bottom:10px}

/* Continuous layered waves using repeating svg backgrounds.
   We animate background-position from 0 -> 100% for seamless loop.
*/
.header-waves{
  position:absolute;
  left:0;right:0;bottom:0;height:140px;pointer-events:none;overflow:hidden;z-index:2;
}
.header-waves .layer{
  position:absolute;
  left:0;bottom:0;height:100%;width:220%; /* wide so repeated pattern appears continuous */
  background-repeat:repeat-x;
  background-size:50% 100%;
  transform:translateZ(0);
}
/* Layer 1 - foreground, slightly faster */
.header-waves .layer.layer1{
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 140'><path d='M0 60 C150 10 350 110 600 60 C850 10 1050 110 1200 60' stroke='white' stroke-width='4' fill='none' stroke-linecap='round' stroke-linejoin='round' /></svg>");
  opacity:1;
  animation:wave1 3s linear infinite;
}
/* Layer 2 - background, slower, slightly offset vertically for parallax */
.header-waves .layer.layer2{
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 140'><path d='M0 80 C150 30 350 130 600 80 C850 30 1050 130 1200 80' stroke='white' stroke-width='3' fill='none' stroke-linecap='round' stroke-linejoin='round' /></svg>");
  opacity:0.85;
  transform:translateY(8px);
  animation:wave2 4.5s linear infinite;
}

/* animate by shifting background-position - seamless repeat */
@keyframes wave1{ 0%{ background-position-x:0 } 100%{ background-position-x:1000px } }
@keyframes wave2{ 0%{ background-position-x:0 } 100%{ background-position-x:1200px } }

/* Page layout */
.container{max-width:1060px;margin:22px auto;padding:0 18px;display:flex;flex-direction:column;gap:20px}
.card{
  background:var(--card);
  border-radius:var(--radius);
  box-shadow:0 12px 34px var(--shadow);
  padding:20px;
  overflow:visible;
}
.card h2{color:var(--accent);margin-bottom:12px;font-size:1.05rem}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:18px;align-items:start}

/* thin green decorative lines */
.line-thin{height:12px;margin:12px 0;pointer-events:none}
.line-thin svg{width:100%;height:12px;opacity:0.12}

/* services centered */
.services-list{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:8px;align-items:center}
.services-list li{text-align:center}

/* Inputs/selects */
.label{display:block;font-weight:700;margin-bottom:8px}
.input, select{width:100%;padding:12px 14px;border-radius:10px;border:1px solid #d1d5db;background:#fff;font-size:1rem;box-shadow:0 2px 8px rgba(0,0,0,0.04);appearance:none}
.input:focus, select:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 6px rgba(11,110,79,0.06);transform:translateY(-1px)}
select{background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M7 10l5 5 5-5' stroke='%230b6e4f' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' fill='none'/></svg>");background-repeat:no-repeat;background-position:right 12px center;padding-right:40px}

/* Toggle */
.toggle{display:inline-flex;align-items:center;justify-content:center;position:relative;width:80px;height:36px;border-radius:999px;flex:0 0 auto}
.toggle input{position:absolute;opacity:0;width:0;height:0;margin:0}
.toggle .rail{position:absolute;inset:0;border-radius:999px;background:#e6e9ee;transition:background .18s}
.toggle .knob{position:relative;height:30px;width:30px;border-radius:50%;background:#fff;box-shadow:0 8px 18px rgba(2,6,23,0.08);left:-26px;transition:transform .22s}
.toggle input:checked + .rail{background:var(--accent)}
.toggle input:checked + .rail + .knob{transform:translateX(52px)}
.toggle.small{width:56px;height:32px}
.toggle.small .knob{height:24px;width:24px;left:-20px}
.toggle.small input:checked + .rail + .knob{transform:translateX(34px)}

/* estimate area */
.estimate-box{background:#e8f6ef;border-radius:12px;padding:14px 16px;text-align:center;box-shadow:0 4px 12px rgba(2,6,23,0.04)}
.estimate-total{font-weight:800;color:var(--accent);font-size:1.18rem;display:inline-block;transition:transform .12s ease,opacity .12s}
.estimate-pop{transform:scale(1.08);opacity:0.98}

/* cap animations: pulse/glow around input and shake warning text */
.cap-glow{box-shadow:0 0 0 rgba(185,28,28,0.0);transition:box-shadow .12s ease}
.cap-glow.cap-active{box-shadow:0 0 14px rgba(185,28,28,0.18);border-color:rgba(185,28,28,0.5);}
.cap-warn{color:var(--warn);font-weight:800;margin-top:10px;display:none}
.cap-warn.show{display:block;animation:capShake .6s ease}
@keyframes capShake{
  0%{transform:translateX(0);opacity:1}
  20%{transform:translateX(-6px)}
  40%{transform:translateX(6px)}
  60%{transform:translateX(-4px)}
  80%{transform:translateX(4px)}
  100%{transform:translateX(0);opacity:1}
}

/* book button */
.book{display:inline-block;margin:16px auto 0 auto;padding:10px 18px;border-radius:999px;background:var(--accent);color:#fff;font-weight:700;text-decoration:none;box-shadow:0 12px 34px rgba(11,110,79,0.14);transition:transform .25s,box-shadow .25s;animation:float 3s ease-in-out infinite}
.book:hover{transform:translateY(-4px);box-shadow:0 18px 46px rgba(11,110,79,0.18)}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}

/* big green hint */
.hint-green{color:var(--green-hint);font-weight:800;font-size:1.02rem;margin-top:12px;opacity:1;transition:opacity .35s ease}

/* footer */
.footer{background:var(--accent);color:#fff;padding:40px 16px;text-align:center}
.footer a{display:inline-block;margin-top:8px;color:#fff;text-decoration:underline;font-weight:700}

/* responsive tweaks */
@media(max-width:600px){
  .grid{gap:14px}
  .header{padding-bottom:100px}
  .toggle{width:68px;height:34px}
  .toggle .knob{height:26px;width:26px;left:-22px}
  .toggle input:checked + .rail + .knob{transform:translateX(44px)}
}
</style>
</head>
<body>

<header class="header" role="banner">
  <div style="max-width:980px;margin:0 auto">
    <h1>Cheapy Cheapy Hull Cleaning</h1>
    <p>Affordable Hull Scraping — Honest Per-Foot or Per-Meter Pricing</p>
  </div>

  <!-- Continuous layered waves (repeat-x backgrounds animated) -->
  <div class="header-waves" aria-hidden="true">
    <div class="layer layer1" aria-hidden="true"></div>
    <div class="layer layer2" aria-hidden="true"></div>
  </div>
</header>

<main class="container" role="main">
  <div class="grid">
    <section class="card" aria-labelledby="servicesHeading">
      <h2 id="servicesHeading">Services</h2>
      <div class="line-thin" aria-hidden="true"><svg viewBox="0 0 800 12" preserveAspectRatio="none"><path d="M0 6 C200 0 400 12 600 6 C700 2 800 10 800 6" stroke="rgba(11,110,79,0.08)" stroke-width="1.6" fill="none"/></svg></div>
      <ul class="services-list">
        <li>Soft brush and scraper hull cleaning</li>
        <li>Free propeller and rudder clean <span style="color:var(--muted);font-style:italic"> (with hull clean)</span></li>
        <li>No chemicals — eco-friendly methods</li>
        <li>Quick turn-around at your mooring or dock</li>
      </ul>
      <div class="line-thin" aria-hidden="true"><svg viewBox="0 0 700 10" preserveAspectRatio="none"><path d="M0 5 C100 1 200 9 350 5 C500 1 600 9 700 5" stroke="rgba(11,110,79,0.06)" stroke-width="1.4" fill="none"/></svg></div>
    </section>

    <section class="card" aria-labelledby="pricingHeading">
      <h2 id="pricingHeading">Pricing</h2>
      <div style="background:#f0fbf6;border-radius:10px;padding:12px">
        <div id="pricingText" style="font-size:1rem;color:#0f172a;line-height:1.45" aria-live="polite"></div>
        <div style="display:flex;align-items:center;justify-content:space-between;margin-top:12px">
          <div id="waterlineLabel" style="font-weight:700">Waterline clean <span id="wlPrice" style="color:var(--muted);font-weight:400;margin-left:6px"></span></div>
          <div>
            <label class="toggle small" title="Include waterline clean">
              <input id="waterlineToggle" type="checkbox" />
              <span class="rail" aria-hidden="true"></span>
              <span class="knob" aria-hidden="true"></span>
            </label>
          </div>
        </div>
      </div>
    </section>
  </div>

  <section class="card" id="quoteCard">
    <h2>Quick Quote</h2>

    <div style="display:grid;grid-template-columns:1fr;gap:12px">
      <div>
        <label class="label" id="lengthLabel">Boat Length (ft)</label>
        <!-- wrap the input so we can add glow on cap -->
        <div id="lengthWrapper" style="position:relative">
          <input id="hullLength" class="input" type="text" inputmode="decimal" placeholder="" aria-label="Boat length" />
        </div>
        <div style="display:flex;align-items:center;gap:10px;margin-top:10px;">
          <span style="font-size:0.95rem;color:#475569">ft</span>

          <label class="toggle" title="Toggle units (ft / m)">
            <input id="unitToggle" type="checkbox" />
            <span class="rail" aria-hidden="true"></span>
            <span class="knob" aria-hidden="true"></span>
          </label>

          <span style="font-size:0.95rem;color:#475569">m</span>

          <div id="capWarningSmall" style="margin-left:auto;color:var(--warn);font-weight:800;display:none">⚠ capped at 60 ft</div>
        </div>
      </div>

      <div style="display:flex;flex-direction:column;gap:12px">
        <label class="label">Boat Type</label>
        <select id="boatType"><option value="" disabled selected>Select...</option><option value="dinghy">Dinghy</option><option value="monohull">Monohull</option><option value="catamaran">Catamaran</option><option value="trimaran">Trimaran</option></select>

        <label class="label">Growth Level</label>
        <select id="growth"><option value="" disabled selected>Select...</option><option value="light">Light</option><option value="medium">Medium</option><option value="heavy">Heavy</option></select>

        <label class="label">Currency</label>
        <select id="currency"><option value="USD" selected>USD</option><option value="AUD">AUD</option><option value="EUR">EUR</option></select>
      </div>
    </div>

    <div id="bigHint" class="hint-green">Enter length to get an estimate</div>
  </section>

  <section class="card">
    <div class="estimate-box">
      <div id="priceEstimate" class="estimate-total">Total Estimated Cost: —</div>
      <div id="priceBreakdown" class="estimate-break" style="display:none;margin-top:8px"></div>
      <div id="capAnimWarning" class="cap-warn" aria-hidden="true" style="margin-top:10px"></div>
    </div>

    <div style="text-align:center;margin-top:14px">
      <a id="bookNow" class="book" href="#" role="button">Book Now</a>
    </div>
  </section>

  <div class="line-thin" aria-hidden="true"><svg viewBox="0 0 1200 12" preserveAspectRatio="none"><path d="M0 6 C200 0 400 12 600 6 C800 0 1000 12 1200 6" stroke="rgba(11,110,79,0.08)" stroke-width="1.6" fill="none"/></svg></div>
</main>

<footer class="footer" role="contentinfo">
  <div style="max-width:980px;margin:0 auto;text-align:center">
    <div style="margin-bottom:10px"><svg viewBox="0 0 1200 24" preserveAspectRatio="none" style="width:100%;height:20px;opacity:0.12"><path d="M0 12 C200 6 400 18 600 12 C800 6 1000 18 1200 12" stroke="rgba(11,110,79,0.08)" stroke-width="1.6" fill="none"/></svg></div>
    <div style="font-weight:700;color:#fff">© 2025 Cheapy Cheapy Hull Cleaning — All Rights Reserved</div>
    <a style="display:inline-block;margin-top:8px;color:#fff;text-decoration:underline" href="mailto:cheapyhullcleaning@gmail.com">cheapyhullcleaning@gmail.com</a>
  </div>
</footer>

<script>
/* constants */
const FEET_TO_M = 0.3048;
const MAX_FT = 60;
const MAX_M = +(MAX_FT * FEET_TO_M).toFixed(1);
const baseRates = { light:3.5, medium:4.5, heavy:5.5 }; // USD per ft
const currencyRates = { USD:1, AUD:1.5, EUR:0.9 };
const waterlineUSD = 20;

/* elements */
const hullEl = document.getElementById('hullLength');
const lengthWrapper = document.getElementById('lengthWrapper');
const unitToggle = document.getElementById('unitToggle');
const boatType = document.getElementById('boatType');
const growth = document.getElementById('growth');
const currency = document.getElementById('currency');
const waterlineToggle = document.getElementById('waterlineToggle');
const pricingText = document.getElementById('pricingText');
const wlPrice = document.getElementById('wlPrice');
const priceEstimate = document.getElementById('priceEstimate');
const priceBreakdown = document.getElementById('priceBreakdown');
const bigHint = document.getElementById('bigHint');
const capWarningSmall = document.getElementById('capWarningSmall');
const capAnimWarning = document.getElementById('capAnimWarning');
const bookNow = document.getElementById('bookNow');

/* robust parse */
function parseLen(raw){
  if(typeof raw !== 'string') raw = String(raw || '');
  const cleaned = raw.trim().replace(/\s+/g,'').replace(/,/g,'');
  const n = parseFloat(cleaned);
  return Number.isFinite(n) ? n : NaN;
}
function fmt(val, meters=false){ return meters ? Number(val).toFixed(1) : Number(val).toFixed(0); }

/* hide placeholder option after interaction */
function hidePlaceholderOnce(sel){
  try{
    const ph = sel.querySelector('option[value=""]') || sel.querySelector('option[disabled]');
    if(ph && sel.value) ph.hidden = true;
  }catch(e){}
}
[boatType,growth].forEach(sel=>{
  sel.addEventListener('focus', ()=> hidePlaceholderOnce(sel));
  sel.addEventListener('change', ()=> hidePlaceholderOnce(sel));
});

/* show per-unit rates with current currency label */
function showRates(){
  const usingMeters = !!unitToggle.checked;
  const curr = currency.value || 'USD';
  const factor = (currencyRates[curr] || 1) * (usingMeters ? (1/FEET_TO_M) : 1);
  const unitLabel = usingMeters ? 'm' : 'ft';
  const light = (baseRates.light * factor).toFixed(2);
  const med = (baseRates.medium * factor).toFixed(2);
  const heavy = (baseRates.heavy * factor).toFixed(2);
  pricingText.innerHTML = `
    Light Growth: <strong>${light} ${curr}</strong> per ${unitLabel} per hull<br>
    Medium Growth: <strong>${med} ${curr}</strong> per ${unitLabel} per hull<br>
    Heavy Growth: <strong>${heavy} ${curr}</strong> per ${unitLabel} per hull
  `;
  wlPrice.textContent = `(${Math.round(waterlineUSD * (currencyRates[curr]||1))} ${curr} per hull)`;
}

/* quick pop */
function popPrice(){
  priceEstimate.classList.add('estimate-pop');
  setTimeout(()=> priceEstimate.classList.remove('estimate-pop'), 160);
}

/* cap animations (both glow and shake warning) */
function activateCapAlert(msg){
  lengthWrapper.classList.add('cap-active','cap-glow');
  capAnimWarning.textContent = msg;
  capAnimWarning.classList.add('show');
  capAnimWarning.style.display = 'block';
  // remove after a sec
  setTimeout(()=>{
    lengthWrapper.classList.remove('cap-active');
    capAnimWarning.classList.remove('show');
    capAnimWarning.style.display = 'none';
  }, 1400);
}

/* main update */
let lastTotal = null;
function updatePricing({ animate=true } = {}){
  showRates();

  const usingMeters = !!unitToggle.checked;
  const raw = hullEl.value || '';
  const parsed = parseLen(raw);
  let lengthVal = Number.isFinite(parsed) ? parsed : NaN;

  // enforce cap in unit used
  const max = usingMeters ? MAX_M : MAX_FT;
  if(Number.isFinite(lengthVal) && lengthVal > max){
    hullEl.value = fmt(max, usingMeters);
    lengthVal = max;
    // visual cap alerts
    capWarningSmall.style.display = 'block';
    setTimeout(()=> capWarningSmall.style.display = 'none', 1400);
    activateCapAlert('Maximum: 60 ft / 18.3 m');
  }

  const lengthFt = Number.isFinite(lengthVal) ? (usingMeters ? lengthVal / FEET_TO_M : lengthVal) : 0;

  // big hint fade out when user has a valid number
  if(Number.isFinite(parsed) && parsed > 0){
    bigHint.style.opacity = '0';
    setTimeout(()=> { try{ bigHint.style.display = 'none' } catch(e){} }, 360);
  } else {
    bigHint.style.display = 'block';
    bigHint.style.opacity = '1';
  }

  // need selects
  if(!Number.isFinite(parsed) || !boatType.value || !growth.value || !currency.value){
    priceEstimate.textContent = 'Total Estimated Cost: —';
    priceBreakdown.style.display = 'none';
    lastTotal = null;
    return;
  }

  // hulls and dinghy multiplier
  const hullCount = boatType.value === 'catamaran' ? 2 : boatType.value === 'trimaran' ? 3 : 1;
  const dinghyMul = boatType.value === 'dinghy' ? 0.8 : 1;

  const currencyRate = currencyRates[currency.value] || 1;
  const basePerFtUSD = baseRates[growth.value] || baseRates.medium;

  const cleanUSD = basePerFtUSD * dinghyMul * Math.max(0, lengthFt) * hullCount;
  let totalLocal = cleanUSD * currencyRate;
  if(waterlineToggle && waterlineToggle.checked) totalLocal += waterlineUSD * currencyRate * hullCount;

  priceEstimate.textContent = `Total Estimated Cost: ${currency.value} ${totalLocal.toFixed(2)}`;
  priceBreakdown.style.display = 'block';
  const perHullLocal = ((cleanUSD / Math.max(1, hullCount)) * currencyRate).toFixed(2);
  priceBreakdown.textContent = `${hullCount} hull${hullCount>1?'s':''} × ${currency.value} ${perHullLocal} per hull`;

  const rounded = Number(totalLocal.toFixed(2));
  if(animate && lastTotal !== null && rounded !== lastTotal) popPrice();
  else if(animate && lastTotal === null) popPrice();
  lastTotal = rounded;
}

/* normalize input on blur */
hullEl.addEventListener('blur', ()=>{ hullEl.value = (hullEl.value||'').trim().replace(/\s+/g,'').replace(/,/g,''); updatePricing({ animate:false }); });

/* events */
[ hullEl, unitToggle, boatType, growth, currency ].forEach(el=>{
  if(!el) return;
  el.addEventListener('input', ()=> updatePricing({ animate:true }));
  el.addEventListener('change', ()=> updatePricing({ animate:true }));
});
if(waterlineToggle) waterlineToggle.addEventListener('input', ()=> updatePricing({ animate:true }));

/* Book Now: prefilled mailto with quote details */
bookNow.addEventListener('click', (e)=>{
  e.preventDefault();
  updatePricing({ animate:false });
  const curr = currency.value || 'USD';
  const rawLen = hullEl.value || '';
  const parsed = parseLen(rawLen);
  const unit = unitToggle.checked ? 'm' : 'ft';
  const lengthDisplay = Number.isFinite(parsed) ? (unit === 'm' ? Number(parsed).toFixed(1) + ' m' : Number(parsed).toFixed(0) + ' ft') : rawLen || '—';
  const type = boatType.value || '—';
  const growthLevel = growth.value || '—';
  const waterlineYes = (waterlineToggle && waterlineToggle.checked) ? 'Yes' : 'No';
  const totalText = priceEstimate.textContent || 'Total Estimated Cost: —';
  const breakdown = priceBreakdown.textContent || '';

  const subject = `Hull Cleaning Quote Request — ${type} ${lengthDisplay}`;
  let body = `Hi,%0D%0A%0D%0AI'd like to request a hull cleaning quote with the following details:%0D%0A- Boat type: ${type}%0D%0A- Length: ${lengthDisplay}%0D%0A- Growth level: ${growthLevel}%0D%0A- Waterline clean: ${waterlineYes}%0D%0A%0D%0A${totalText}%0D%0A${breakdown}%0D%0A%0D%0AThanks!%0D%0A`;
  const mailto = `mailto:cheapyhullcleaning@gmail.com?subject=${encodeURIComponent(subject)}&body=${body}`;
  window.location.href = mailto;
});

/* save/restore */
function saveState(){
  try{
    localStorage.setItem('cheapy_state', JSON.stringify({
      hull: hullEl.value||'',
      unit: unitToggle.checked,
      boat: boatType.value||'',
      growth: growth.value||'',
      currency: currency.value||'USD',
      wl: waterlineToggle ? waterlineToggle.checked : false
    }));
  }catch(e){}
}
[ hullEl, unitToggle, boatType, growth, currency, waterlineToggle ].forEach(el=> el && el.addEventListener('change', saveState));
(function restore(){
  try{
    const raw = localStorage.getItem('cheapy_state');
    if(raw){
      const s = JSON.parse(raw);
      hullEl.value = s.hull || '';
      unitToggle.checked = !!s.unit;
      boatType.value = s.boat || '';
      growth.value = s.growth || '';
      currency.value = s.currency || 'USD';
      if(waterlineToggle) waterlineToggle.checked = !!s.wl;
    }
  }catch(e){}
})();

/* init */
window.addEventListener('DOMContentLoaded', ()=>{
  showRates();
  updatePricing({ animate:false });
});
</script>
</body>
</html>
